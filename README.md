# Пројекат из предмета Програмирање интернет апликација за јунски и јулски рок школске 2019/2020. године

Реализовати веб апликацију која помаже пољопривредницима при одржавању расадника. Постоје три врсте корисника: пољопривредник, предузеће и администратор.

Свим корисницима треба омогућити пријављивање на систем коришћењем својих креденцијала (корисничко име и лозинка). Корисник има могућност да након исправно унетих података настави рад са остатком система. У случају погрешно унетих података приказати одговарајућу поруку. Поред пријављивања на систем, кориснику када се улогује треба омогућити промену лозинке. Такође, ако корисник нема кориснички налог (није регистрован у систему), омогућити му регистрацију.

Регистрација захтева од нерегистрованог пољопривредника унос следећих података:
- име,
- презиме,
- корисничко име (које је јединствено, на нивоу свих корисника у систему),
- лозинка (и потврда лозинке),
- датум рођења и место рођења,
- контакт телефон,
- адреса електронске поште.

Регистрација захтева од нерегистрованог предузећа унос следећих података:
- пун назив предузећа,
- скраћени назив предузећа (који је јединствен, на нивоу свих корисника у систему),
- лозинка (и потврда лозинке),
- датум оснивања предузећа,
- место предузећа,
- адреса електронске поште.

Приликом регистрације, осим тражених поља, имплементирати и поље за унос потврде који генерише аутоматски генератор текста *„Captcha“*, који би спречио роботе да креирају превише захтева за новим корисничким налозима.

Ако су подаци исправно унети (извршити неке основне провере на клијентској страни апликације), треба креирати нови захтев за регистрацију. Администратор је задужен за разматрање пристиглих захтева, а исход може да буде прихватање или одбацивање захтева. Новог корисника било које горенаведене категорије може директно у систем унети сам администратор (касније описано).

- Лозинку проверити коришћењем регуларног израза (минимално 7 карактера, од тога бар једно велико слово, један број и један специјални карактер, и мора почињати словом)
- https://www.google.com/recaptcha/ или неки сличан сервис

Код промене лозинке потребно је да осим уноса старе лозинке, корисник унесе и два пута нову лозинку. Ако стара лозинка није добра или нова лозинка није у траженом формату за формирање лозинке, потребно је приказати одговарајућу поруку. Нова лозинка не сме бити иста као стара. Када се успешно промени лозинка, одјавити корисника и вратити га на почетни екран за пријављивање на систем. Промену лозинке треба омогућити свим корисницима система.


## Пољопривредник

На почетној страници пољопривредник види табеларни приказ свих својих расадника са следећим подацима: назив расадника, место у коме се налази, број засађених садница у расаднику, број слободних места за нове саднице у расаднику и тренутне вредности количине воде у резервоару и температуре у степенима Целзијуса.

Одабиром жељеног расадника отвара се визуелни приказ распореда садница у расаднику са одговарајућим менијем (*dashboard*-ом). У менију треба приказати тренутну количину воде у расаднику (изражено у јединици литар) и тренутну температуру (изражено у јединици степен Целзијусове скале °C). Пољопривредник може из менија да дода воду у свој расадник (± литар) и може подешавати температуру (± степен). Сваког сата у расаднику се потроши литар воде и температура се спусти за пола степена Целзијуса.

Преласком миша преко саднице приказује се прозор са детаљима о садници: назив саднице, произвођач и *progress bar* који приказује напредовање биљке до тренутка када постаје спремна за пресађивање. Свакој садници пољопривредник може додати препарате које узима из свог магацина. Применом препарата на одређену садницу убрзава се њен развој за онолико дана колико је прописано у упутству за одређени препарат. Када садница постане спремна за пресађивање преласком миша преко ње отвара се прозор у ком корисник има могућност да ту садницу извади из земље (уклања из расадника) и то место у расаднику ће након једног дана постати слободно за нову садницу. Преласком миша преко празног места у расаднику пољопривредник може да засади нову садницу коју такође узима из свог магацина.

Сваки пољопривредник има по један магацин за сваки свој расадник, у којем види све производе (саднице и препарате) које је купио преко *online* продавнице. За сваки производ приказати: назив, произвођача и количину. Омогућити сортирање и филтрирање по тим параметрима. Такође, потребно је приказати и све производе који су наручени и још увек нису стигли у неки од магацина. За такве производе омогућити отказивање наруџбине. Уколико пољопривредник жели да поручи нове производе то може урадити помоћу *online* продавнице.

*Online* продавница представља понуду свих производа свих предузећа. Постоје две врсте производа: саднице и препарати. За сваки производ поред основних информација наведених у претходном пасусу, потребно је приказати да ли тог производа има на стању и просечну оцену. Код детаљног приказа производа, потребно је приказати и све коментаре, корисничко име пољопривредника који је коментарисао, као и појединачну оцену коју је он дао производу. Сваки пољопривредник може оставити свој коментар и оцену само уколико је већ наручивао тај производ. Највише може дати један коментар и једну оцену по производу. Приликом куповине, пољопривредник може наручити више производа у оквиру исте наруџбине.

Пољопривредник има опцију додавања новог расадника. За сваки расадник је потребно унети назив, место и димензије расадника (дужину и ширину у јединици метар). На основу квадратуре (дужина × ширина) израчунава се колико садница је највише могуће посадити. За сваку садницу је потребна рупа пречника један метар квадратни ( 1 m × 1 m = 1 m<sup>2</sup> ). На почетку је расадник подешен на идеалну температуру од 18 степени Целзијуса и у резервоару расадника има 200 литара воде.

Уколико температура у расаднику падне испод 12 степени Целзијуса или у резервоару остане мање од 75 литара воде потребно је послати обавештење пољопривреднику, слањем електронске поште на адресу која је остављена приликом регистрације. Док пољопривредник не стабилизује температуру и воду у резервоару у неком од својих расадника потребно је да му све време у доњем десном углу екрана стоји обавештење, нпр. *„Расадник „МК345“ захтева одржавање“*.


## Предузеће

Радник предузећа када се пријави на систем на почетној страни види табеларни приказ свих наруџбина за производе тог предузећа. Наруџбине може сортирати по датуму, и сваку наруџбину може прихватити или одбити. Приликом прихватања наруџбине, предузеће упошљава једног од својих слободних курира да наручене производе достави. Свако предузеће има на располагању тачно 5 курира. Користећи *Google Distance API* (или неки сличан сервис) израчунати колико је времена потребно куриру да испоручи наруџбину до места у ком се налази расадник, и сматрати да је у том времену курир заузет. Тек када се курир врати са испоруке, може започети нову испоруку. Уколико нема слободних курира за доставу, такву наруџбину означити другом бојом и ставити је на врх табеле са наруџбинама, са статусом „НА ЧЕКАЊУ“, како би радник предузећа знао да јој да приоритет чим се неки од курира врати из претходне испоруке.

Поред опције са приказом наруџбина, доступна је и опција табеларног прегледа свих производа које то предузеће нуди, са могућношћу да се оде на веб страну са детаљима тог производа (на овој веб страни приказати и просечну оцену производа и све коментаре пољопривредника о том производу).

Радник може повући производе из online продавнице, а може и додати нове производе. Приликом уноса производа осим основних информација уносе се и количина (број комада) и јединична цена за сваки производ. Додавање нових производа се реализује ручно, уносом података кроз више корака (компонента *Steps*).

Радник предузећа има опцију да прикаже резултате пословања тако што ће визуализовати број наруџбина у протеклих 30 дана користећи неку *JavaScript* библиотеку (нпр. D3.js). Приказати број наруџбина за сваки дан.


## Администратор

Администратор је корисник са посебним привилегијама. На почетној страници види захтеве за регистрацијом корисника и може да одобри или не одобри захтев. Администратор има могућност и да додаје, ажурира и брише кориснике из система.


## Остале карактеристике апликације

Апликација треба да буде отпорна на унос некоректних података. Потребно је направити и униформни изглед апликације користећи *CSS - Cascading Style Sheets*. Свака веб страна треба да садржи мени и заглавља (*header* и *footer*). На свим екранима где је приказан жељени садржај треба омогућити опцију за повратак на почетни екран са корисничким опцијама (ово само уколико немате мени који је увек видљив). Такође на свим екранима је потребан и линк који води на почетни екран за пријављивање (опција: Излогуј се).


## Напомене:

Пројекат из предмета *Програмирање интернет апликација* се ради самостално и услов је за полагање испита. Пројекат се може бранити у испитном року у коме се ради писмени испит или у неком од наредних рокова. Пројекат вреди 30 поена (без додатних поена). На усменој обрани кандидат мора самостално да инсталира све програме неопходне за исправан рад приложеног решења (уколико не постоје у рачунарској лабораторији). Кандидат мора да поседује потребан ниво знања о пројектном задатку, мора да буде свестан недостатака приложеног решења и могућности да те недостатке реши. Кандидат мора тачно да одговори и на одређен број питања која се баве тематиком пројекта.

За израду пројектног задатка потребно је користити:

1) *JavaServerFaces 2.x framework* (за веб сервер може се користити *Tomcat* 8.x или *GlassFish* 5.x), уз обавезну примену *Hibernate ORM* и коришћење библиотеке *Primefaces* 6.x (http://primefaces.org/) или неке друге библиотеке са готовим компонентама, или
2) *Angular* 7 (или новија верзија) са *Express* и *NodeJS* у серверском делу; нерелациону базу *MongoDB* можете опционо користити.

Апликацију реализовати са прилагодљивим (*responsive*) дизајном. Сваки вид серверске валидације потребно је што ефикасније реализовати. При развоју је потребно користити *MySQL* или *PostgreSQL* релациону базу података. Подразумевати да се база података иницијално креира и попуњава независно од ове апликације (тј. табеле у бази не треба креирати из саме апликације, већ независно од ње).

[Опционо, можете водити рачуна које саднице смеју да се налазе једна поред друге у расаднику. Неопходно је потребне информације унети приликом уноса саднице од стране предузећа. Расадницима који имају више од 10 различитих садница од одређеног предузећа, једном недељно стиже поклон у виду препарата који је насумично изабран од стране предузећа и послат куриром. Поклон треба да стигне сваког понедељка, и представља мали знак пажње од предузећа усмерен највернијим пољопривредницима. Ови захтеви доносе до 3 додатна поена ☺].

**На одбрану је потребно донети базу података која је попуњена подацима који омогућавају преглед свих функционалности апликације, у супротном се добија -5 поена.**

Одбрана ће бити организована у јунском и јулском року, након писменог дела испита, тачан дан и сатница ће бити објављени након истека рока за пријаву одбране пројекта.